(this["webpackJsonptest-task-for-VA-boys"]=this["webpackJsonptest-task-for-VA-boys"]||[]).push([[0],{168:function(e,t,r){},169:function(e,t,r){},174:function(e,t,r){},247:function(e,t,r){},248:function(e,t,r){},249:function(e,t,r){},250:function(e,t,r){},251:function(e,t,r){},274:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"authUser",(function(){return y}));var a={};r.r(a),r.d(a,"fetchPerformers",(function(){return xe}));var o={};r.r(o),r.d(o,"fetchTodos",(function(){return ge}));var c={};r.r(c),r.d(c,"setStateTodo",(function(){return _e})),r.d(c,"setPerformerTodo",(function(){return Re})),r.d(c,"CreateTodo",(function(){return ke})),r.d(c,"SetTodoTask",(function(){return Ce})),r.d(c,"DeleteTodoTask",(function(){return we}));var s,i=r(0),u=r.n(i),l=r(37),d=r.n(l),f=(r(168),r(16)),j=r(23),O=(r(169),r(277)),b=r(280),p=r(285),h=r(159),m=r(286),T=r(287),v=r(282),x=function(e){var t=e.touched,r=e.errors,n=e.values;return t?r?"error":n?"success":"error":""},E=r(40),S=r(34);!function(e){e.AUTHORIZATION_USER="AUTHORIZATION_USER"}(s||(s={}));var g,y=function(e){return{type:s.AUTHORIZATION_USER,payload:e}},_="denis.rybkin.94@mail.ru",R="testTEST12345",k=(r(174),r(3)),C=r.n(k),w=r(4),I=function(e){var t=e.children,r=e.classname;return Object(w.jsx)("div",{className:C()("block",r),children:t})},F=v.a.Content,A=function(e){var t=e.values,r=e.touched,a=e.errors,o=e.isSubmitting,c=e.handleChange,s=e.handleBlur,u=e.isValid,l=Object(i.useState)(!1),d=Object(j.a)(l,2),g=d[0],y=d[1],k=Object(i.useState)(!1),C=Object(j.a)(k,2),A=C[0],D=C[1],N=Object(f.g)(),P=function(){var e=Object(E.b)();return Object(S.b)(n,e)}().authUser,H=function(e){A&&D(!1),c(e)};return Object(w.jsx)(v.a,{className:"wrapper",children:Object(w.jsxs)(F,{children:[Object(w.jsx)("div",{className:"auth__content",children:Object(w.jsxs)("div",{className:"auth__head",children:[Object(w.jsx)("h2",{children:"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"}),Object(w.jsx)("p",{children:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"})]})}),Object(w.jsx)(I,{children:Object(w.jsx)("div",{className:"auth__form",children:Object(w.jsxs)("div",{className:"auth__form-container",children:[A&&Object(w.jsx)("b",{className:"auth__form__error-message",children:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c!"}),Object(w.jsxs)(O.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:function(){y(!0),!function(e){var t=e.email,r=e.password;return t===_&&r===R}(t)?(y(!1),D(!0)):(P(t.email),N("/",{replace:!0}),window.localStorage.isAuth="true",y(!1))},children:[Object(w.jsx)(O.a.Item,{hasFeedback:!0,validateStatus:A?"error":x({touched:r.email,errors:a.email,values:t.email}),name:"email",help:r.email?a.email:null,children:Object(w.jsx)(b.a,{id:"email",size:"large",type:"email",onBlur:s,onChange:H,prefix:Object(w.jsx)(m.a,{className:"site-form-item-icon"}),placeholder:"E-mail"})}),Object(w.jsx)(O.a.Item,{hasFeedback:!0,validateStatus:A?"error":x({touched:r.password,errors:a.password,values:t.password}),name:"password",help:r.password?a.password:null,children:Object(w.jsx)(b.a.Password,{id:"password",onBlur:s,onChange:H,prefix:Object(w.jsx)(T.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password",size:"large"})}),Object(w.jsxs)(O.a.Item,{children:[Object(w.jsx)(O.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0,children:Object(w.jsx)(p.a,{children:"Remember me"})}),Object(w.jsx)("a",{className:"login-form-forgot",href:"http://localhost:3000/registration",children:"Forgot password"})]}),Object(w.jsxs)(O.a.Item,{children:[o&&!u&&Object(w.jsx)("span",{children:"\u041e\u0448\u0438\u0431\u043a\u0430!"}),Object(w.jsx)(h.a,{type:"primary",htmlType:"submit",className:"login-form-button",size:"large",onClick:function(){return!u&&y(!1)},loading:u&&g,children:"\u0432\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"})]})]})]})})})]})})},D=r(155),N=Object(D.a)({validate:function(e){var t={};return function(e){var t=e.isAuth,r=e.values,n=e.errors,a={email:function(e,t){t?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t)||(e.email="\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 E-mail!"):e.email="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 E-mail!"},password:function(e,r){r?/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})/.test(r)||(e.password=t?"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c":"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043b\u0435\u0433\u043a\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c!"):e.password="\u041f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"}};Object.keys(r).forEach((function(e){a[e]&&a[e](n,r[e])}))}({isAuth:!0,values:e,errors:t}),t},handleSubmit:function(e,t){t.setSubmitting},displayName:"LoginForm"})(A),P=function(){return Object(w.jsx)(N,{message:"sign in"})},H=r(18),U=r.n(H),M=r(28),L=(r(247),r(248),r(74)),z=r(279);!function(e){e.all="\u0412\u0441\u0435",e.waiting="\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435",e.atWork="\u0412 \u0440\u0430\u0431\u043e\u0442\u0435",e.done="\u0413\u043e\u0442\u043e\u0432\u043e"}(g||(g={}));r(249);var V,K=r(278),Z=L.a.Option,q=function(e){var t=e.stateValue,r=e.todoId,n=e.changeStateTodo,a=Object(i.useState)(void 0),o=Object(j.a)(a,2),c=o[0],s=o[1],u=function(){var e=Object(M.a)(U.a.mark((function e(a){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435"!==t&&s(a),s(a),n({todoStatus:t,todoId:r});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)(L.a,{value:c||t,style:{width:120,margin:"0 8px"},onChange:u,children:["\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435"===c&&Object(w.jsx)(Z,{value:"\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435",children:"\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435"}),Object(w.jsx)(Z,{value:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435",children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435"}),Object(w.jsx)(Z,{value:"\u0413\u043e\u0442\u043e\u0432\u043e",children:"\u0413\u043e\u0442\u043e\u0432\u043e"})]})},B=L.a.Option,G=function(e){var t=e.performer,r=e.performersList,n=e.todoId,a=(e.performerId,e.changePerformerTodo),o=t||null,c=Object(i.useState)(o||null),s=Object(j.a)(c,2),u=s[0],l=s[1];return Object(w.jsx)(L.a,{value:u||void 0,style:{width:170,margin:"0 8px"},onChange:function(e){var t=null===r||void 0===r?void 0:r.find((function(t){return t.name===e})).id;l(e),a({performer:e,performerId:String(t),todoId:String(n)})},children:r&&r.map((function(e){return Object(w.jsx)(B,{value:e.name,children:e.name},e.id)}))})},W=r(281),J=r(284),X=(r(250),function(e){var t=e.resultRequest,r=e.positiveResult,n=e.negativeResult;return null!==t?!0===t?r:n:r}),$=r(283),Q=function(e){var t=e.status,r=e.title,n=e.subtitle;return Object(w.jsx)($.a,{className:"result-icon",status:t,title:r,subTitle:n||void 0})},Y=K.a.Meta,ee=function(e){var t=e.buttonIsSubmitting,r=e.setButtonIsSubmitting,n=e.activeTabKey,a=e.todo,o=e.performers,c=(e.editTodo,Object(i.useState)(a.taskTitle)),s=Object(j.a)(c,2),u=s[0],l=s[1],d=Object(i.useState)(a.task),f=Object(j.a)(d,2),p=f[0],m=f[1],T=Object(i.useState)(null),v=Object(j.a)(T,2),x=v[0],E=(v[1],Object(i.useState)(!1)),S=Object(j.a)(E,2),g=S[0],y=S[1],_=Object(i.useState)(null),R=Object(j.a)(_,2),k=R[0],C=R[1],I=p===a.task&&u===a.taskTitle,F=function(){var e=Object(M.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){return a.performerId&&a.performer&&o.length>0?o[Number(a.performerId)-1].avatar:null};Object(i.useEffect)((function(){return console.log(A()),C(A())}),[A,a]);var D={task:Object(w.jsx)(W.a,{loading:!1,avatar:!0,active:!0,children:Object(w.jsx)(Y,{avatar:Object(w.jsx)(J.a,{src:k}),title:a.taskTitle,description:a.task})}),edit:t?Object(w.jsx)(Q,{status:X({resultRequest:x,positiveResult:"success",negativeResult:"error"}),title:null!==x?!0===x?"\u0423\u0441\u043f\u0435\u0448\u043d\u043e":"\u041e\u0448\u0438\u0431\u043a\u0430 !":"\u0423\u0441\u043f\u0435\u0448\u043d\u043e"}):Object(w.jsxs)(O.a,{name:"basic",labelCol:{span:6},wrapperCol:{span:16},initialValues:{taskTitle:u,task:p},autoComplete:"off",children:[Object(w.jsx)(O.a.Item,{label:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",name:"taskTitle",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a !"}],children:Object(w.jsx)(b.a,{onChange:function(e){l(e.target.value)}})}),Object(w.jsx)(O.a.Item,{label:"\u0417\u0430\u0434\u0430\u043d\u0438\u0435",name:"task",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435 !"}],children:Object(w.jsx)(b.a,{onChange:function(e){m(e.target.value)}})}),Object(w.jsxs)("div",{className:"flex-container",children:[Object(w.jsx)(O.a.Item,{wrapperCol:{offset:8,span:16},children:Object(w.jsx)(h.a,{disabled:I,danger:!0,onClick:function(){l(a.taskTitle),m(a.task),r(!0)},children:"\u0421\u0431\u0440\u043e\u0441"})}),Object(w.jsx)(O.a.Item,{wrapperCol:{offset:8,span:16},children:Object(w.jsx)(h.a,{onClick:F,disabled:I,type:"primary",loading:g,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})]})};return Object(w.jsx)("div",{children:D[n]})};!function(e){e.keyTask="task",e.keyEdit="edit"}(V||(V={}));var te,re=r(288),ne=r(289),ae=r(290),oe=[{key:"task",tab:Object(w.jsxs)("p",{children:[Object(w.jsx)(re.a,{style:{fontSize:"20px"}})," \u0417\u0430\u0434\u0430\u0447\u0430"]})},{key:"edit",tab:Object(w.jsxs)("p",{children:[Object(w.jsx)(ne.a,{style:{fontSize:"20px"}})," \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"]})}],ce=function(e){var t=e.performers,r=e.todo,n=e.editTodo,a=e.changeStateTodo,o=e.changePerformerTodo,c=e.deleteTodo,s=Object(i.useState)(V.keyTask),u=Object(j.a)(s,2),l=u[0],d=u[1],f=Object(i.useState)(!1),O=Object(j.a)(f,2),b=O[0],p=O[1];return Object(w.jsx)(K.a,{style:{width:400,marginTop:16},tabList:oe,activeTabKey:l,onTabChange:function(e){!function(e){d(e)}(e),p(!1)},actions:[Object(w.jsx)(q,{changeStateTodo:a,todoId:r.id,stateValue:r.state}),Object(w.jsx)(G,{changePerformerTodo:o,performerId:r.performerId,performer:r.performer,todoId:r.id,performersList:t}),Object(w.jsx)(ae.a,{onClick:function(){return c(r.id)},className:"delete-icon",style:{fontSize:"23px"}})],children:Object(w.jsx)(ee,{editTodo:n,setButtonIsSubmitting:p,buttonIsSubmitting:b,activeTabKey:l,todo:r,performers:t})})},se=r(108),ie=(r(251),r(291)),ue=r(292),le=r(293),de={width:"90%"},fe=function(e){var t=e.createTodo,r=Object(i.useState)(!1),n=Object(j.a)(r,2),a=n[0],o=n[1],c=Object(i.useState)(!1),s=Object(j.a)(c,2),u=s[0],l=s[1],d=Object(i.useState)(null),f=Object(j.a)(d,2),p=f[0],m=f[1],T=function(){o(!1)};return Object(w.jsx)("div",{className:"center-container",children:a?null!==p?Object(w.jsx)(Q,{status:!0===p?"success":"error",title:!0===p?"\u0417\u0430\u0434\u0430\u0447\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e":"".concat(p)}):Object(w.jsx)("div",{className:"form-new-todo",children:Object(w.jsx)(K.a,{style:{width:"70%"},title:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0437\u0430\u0434\u0430\u0447\u0443",bordered:!0,children:Object(w.jsxs)(O.a,{name:"basic",labelCol:{span:7},wrapperCol:{span:17},initialValues:{remember:!0},onFinish:function(e){l(!0),t({task:e.task,taskTitle:e.taskTitle}).then((function(){m(!0)})).catch((function(e){m(e)})).finally((function(){setTimeout((function(){m(null),T(),l(!1)}),2e3)}))},autoComplete:"off",children:[Object(w.jsx)(O.a.Item,{label:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043a",name:"taskTitle",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a \u0437\u0430\u0434\u0430\u0447\u0438!"}],children:Object(w.jsx)(b.a,{size:"middle",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a \u0437\u0430\u0434\u0430\u0447\u0438",prefix:Object(w.jsx)(ie.a,{style:{opacity:"0.5"}}),style:de})}),Object(w.jsx)(O.a.Item,{label:"\u0417\u0430\u0434\u0430\u0447\u0430",name:"task",rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0434\u0430\u0447\u0443!"}],children:Object(w.jsx)(b.a,{size:"middle",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0434\u0430\u0447\u0443",prefix:Object(w.jsx)(ie.a,{style:{opacity:"0.5"}}),style:de})}),Object(w.jsxs)("div",{className:"form-buttons",children:[Object(w.jsx)(O.a.Item,{wrapperCol:{offset:8,span:16},children:Object(w.jsx)(h.a,{type:"primary",icon:Object(w.jsx)(ue.a,{}),size:"middle",danger:!0,onClick:T,children:"\u041e\u0442\u043c\u0435\u043d\u0430"})}),Object(w.jsx)(O.a.Item,{wrapperCol:{offset:8,span:16},children:Object(w.jsx)(h.a,{loading:u,htmlType:"submit",type:"primary",icon:Object(w.jsx)(ue.a,{}),size:"middle",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"})})]})]})})}):Object(w.jsx)(h.a,{onClick:function(){return o(!0)},type:"primary",shape:"round",icon:Object(w.jsx)(le.a,{}),size:"large",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"})})},je=L.a.Option,Oe=function(e){var t=e.performers,r=e.todos,n=e.editTodo,a=e.changeStateTodo,o=e.changePerformerTodo,c=e.deleteTodo,s=e.createTodo,u=Object(i.useState)(""),l=Object(j.a)(u,2),d=l[0],f=l[1],O=Object(i.useState)(r),p=Object(j.a)(O,2),h=p[0],m=p[1],T=Object(i.useState)(g.all),v=Object(j.a)(T,2),x=v[0],E=v[1];return Object(i.useEffect)((function(){m(r)}),[r]),Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{className:"todos-actions",children:[Object(w.jsx)(b.a,{size:"large",placeholder:"\u041f\u043e\u0441\u0438\u043a \u043f\u043e \u0437\u0430\u0434\u0430\u043d\u0438\u044f\u043c",prefix:Object(w.jsx)(se.a,{style:{opacity:"0.5"}}),onChange:function(e){var t=e.target.value;m(function(e){var t=e.searchValue,r=e.arrTodos;return 0===t.length?r:r.filter((function(e){return e.task.toLowerCase().includes("".concat(t.toLowerCase()))}))}({searchValue:t,arrTodos:r})),f(t)},value:d,style:{width:"60%"}}),Object(w.jsxs)(L.a,{value:x,style:{width:120,margin:"0 8px"},onChange:function(e){return m(function(e){var t=e.filterValue,r=e.arrTodos;return"\u0412\u0441\u0435"===t?r:r.filter((function(e){return e.state.toLowerCase().includes("".concat(t.toLowerCase()))}))}({filterValue:t=e,arrTodos:r})),void E(t);var t},size:"large",children:[Object(w.jsx)(je,{value:"\u0412\u0441\u0435",children:g.all},g.all),Object(w.jsx)(je,{value:"\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435",children:g.waiting},g.waiting),Object(w.jsx)(je,{value:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435",children:g.atWork},g.atWork),Object(w.jsx)(je,{value:"\u0413\u043e\u0442\u043e\u0432\u043e",children:g.done},g.done)]})]}),Object(w.jsx)("div",{className:"list-todos",children:Object(w.jsxs)("div",{className:"column-container",children:[Object(w.jsx)(z.b,{bordered:!0,size:"small",dataSource:h,renderItem:function(e){return Object(w.jsx)("div",{className:"list-item",children:Object(w.jsx)(ce,{deleteTodo:c,changePerformerTodo:o,changeStateTodo:a,editTodo:n,todo:e,performers:t})})}}),Object(w.jsx)(fe,{createTodo:s})]})})]})};!function(e){e.FETCH_PERFORMERS="FETCH_PERFORMERS",e.FETCH_PERFORMERS_SUCCESS="FETCH_PERFORMERS_SUCCESS",e.FETCH_PERFORMERS_ERROR="FETCH_PERFORMERS_ERROR"}(te||(te={}));var be,pe=r(102),he=r(103),me=r(153),Te=r.n(me).a.create({baseURL:"https://619c0b4768ebaa001753c757.mockapi.io"}),ve=new(function(){function e(){Object(pe.a)(this,e)}return Object(he.a)(e,[{key:"fetchingPerformers",value:function(){var e=Object(M.a)(U.a.mark((function e(){var t,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.get("/performers");case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}()),xe=function(){return function(){var e=Object(M.a)(U.a.mark((function e(t){var r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:te.FETCH_PERFORMERS}),e.next=4,ve.fetchingPerformers();case 4:r=e.sent,t({type:te.FETCH_PERFORMERS_SUCCESS,payload:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:te.FETCH_PERFORMERS_ERROR,payload:"\u041f\u0440\u043e\u0438\u0437\u043e\u0433\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u0435\u0439"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()};!function(e){e.FETCH_TODOS="FETCH_TODOS",e.FETCH_TODOS_SUCCESS="FETCH_TODOS_SUCCESS",e.FETCH_TODOS_ERROR="FETCH_TODOS_ERROR",e.SET_TODO_STATE="SET_TODO_STATE",e.ASSIGN_TODO_PERFORMER="ASSIGN_TODO_PERFORMER",e.CREATE_TODO="CREATE_TODO",e.SET_TODO_TASK="SET_TODO_TASK",e.DELETE_TODO_TASK="DELETE_TODO_TASK"}(be||(be={}));var Ee,Se=new(function(){function e(){Object(pe.a)(this,e)}return Object(he.a)(e,[{key:"fetchTodos",value:function(){var e=Object(M.a)(U.a.mark((function e(){var t,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.get("/todos");case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setTodo",value:function(){var e=Object(M.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){Te.put("todos/".concat(t.id),t).then((function(t){var r=t.data;return e(r)})).catch((function(e){return r(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteTodo",value:function(){var e=Object(M.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){Te.delete("todos/".concat(t)).then((function(t){var r=t.data;return e(r)})).catch((function(e){return r(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"createTodo",value:function(){var e=Object(M.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){Te.post("/todos",t).then((function(t){var r=t.data;return e(r)})).catch((function(e){return r(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),ge=function(){return function(){var e=Object(M.a)(U.a.mark((function e(t){var r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:be.FETCH_TODOS}),e.next=4,Se.fetchTodos();case 4:r=e.sent,t({type:be.FETCH_TODOS_SUCCESS,payload:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:be.FETCH_TODOS_ERROR,payload:{error:"\u041f\u0440\u043e\u0438\u0437\u043e\u0433\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0437\u0430\u0434\u0430\u043d\u0438\u0439"}});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},ye=E.c,_e=function(e){var t=e.id,r=e.state;return{type:be.SET_TODO_STATE,payload:{id:t,state:r}}},Re=function(e){var t=e.id,r=e.performerId,n=e.performer;return{type:be.ASSIGN_TODO_PERFORMER,payload:{id:t,performer:n,performerId:r}}},ke=function(e){return{type:be.CREATE_TODO,payload:{todo:e}}},Ce=function(e){var t=e.id,r=e.task,n=e.taskTitle;return{type:be.SET_TODO_TASK,payload:{id:t,task:r,taskTitle:n}}},we=function(e){var t=e.id;return{type:be.DELETE_TODO_TASK,payload:{id:t}}},Ie=r(151),Fe=r(55),Ae=v.a.Content,De=v.a.Header,Ne=Object(w.jsx)(Fe.a,{style:{fontSize:70},spin:!0}),Pe=function(){var e=function(){var e=Object(E.b)();return Object(S.b)(a,e)}().fetchPerformers,t=function(){var e=Object(E.b)();return Object(S.b)(o,e)}().fetchTodos,r=function(){var e=Object(E.b)();return Object(S.b)(c,e)}(),n=r.SetTodoTask,s=r.setStateTodo,u=r.setPerformerTodo,l=r.DeleteTodoTask,d=r.CreateTodo,f=ye((function(e){return e.performers})),j=f.performers,O=f.loading,b=f.error,p=ye((function(e){return e.todos})),h=p.todos,m=p.loading,T=p.error,x=function(){var e=Object(M.a)(U.a.mark((function e(t){var r,a,o,c,s,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.todo,a=t.task,o=t.taskTitle,s=!1,i="",(c=r).task=a,c.taskTitle=o,e.next=8,Se.setTodo(c).then((function(e){s=!0,n({id:e.id,task:e.task,taskTitle:e.taskTitle})})).catch((function(e){return i=e}));case 8:return e.abrupt("return",s||i);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(M.a)(U.a.mark((function e(t){var r,n,a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.todoId,n=t.todoStatus,s({state:n,id:r}),(a=h.find((function(e){return e.id===r}))).state=n,e.next=6,Se.setTodo(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(M.a)(U.a.mark((function e(t){var r,n,a,o;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.todoId,n=t.performerId,a=t.performer,u({id:r,performerId:n,performer:a}),(o=h.find((function(e){return e.id===r}))).performer=a,o.performerId=n,e.next=7,Se.setTodo(o);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(M.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Se.deleteTodo(t).then((function(){l({id:t})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(e){var t=e.firstLoading,r=e.secondLoading,n=e.firstError,a=e.secondError;return null!==n||null!==a?null!==n&&null!==a?{errors:{firstError:n,secondError:a}}:{error:null!==n?n:a}:t||r?{loading:!0}:{loading:!1}}({firstLoading:O,secondLoading:m,firstError:b,secondError:T});return Object(i.useEffect)((function(){e(),t()}),[]),Object(w.jsxs)(v.a,{children:[Object(w.jsx)(De,{style:{backgroundColor:"#1890ff",color:"#ffffff",fontSize:"19px"},children:"\u041d\u0430\u0441\u0442\u043e\u044f\u0449\u0438\u0445 ToDo List \u0434\u043b\u044f \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0438\u0445 \u0412\u0410-\u0448\u043d\u0438\u043a\u043e\u0432"}),Object(w.jsx)(Ae,{style:{backgroundColor:"#f7f8f9"},children:Object(w.jsx)("div",{children:"error"in R&&R.error||"errors"in R&&R.errors?Object(w.jsx)(Q,{status:"error",title:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430,\u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443 \u043f\u043e\u0437\u0436\u0435",subtitle:"error"in R&&R.error?R.error:"".concat("errors"in R?R.errors.firstError:null,"\n                     \u0438 ").concat("errors"in R?R.errors.secondError:null)}):"loading"in R&&R.loading?Object(w.jsx)(Ie.a,{indicator:Ne}):Object(w.jsx)(Oe,{createTodo:function(e){var t={task:e.task,taskTitle:e.taskTitle,performerId:"",performer:"",state:"\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435"};return new Promise((function(e,r){Se.createTodo(t).then((function(t){d(t),e(t)})).catch((function(e){return r(e)}))}))},deleteTodo:_,changePerformerTodo:y,changeStateTodo:g,editTodo:x,todos:h,performers:j})})})]})},He=function(){return Object(w.jsx)(Pe,{})};!function(e){e.LOGIN_ROUTE="/login",e.MAIN_ROUTE="/"}(Ee||(Ee={}));var Ue={path:Ee.LOGIN_ROUTE,Component:P},Me={path:Ee.MAIN_ROUTE,Component:He},Le=function(e){var t=e.children,r=Object(f.f)();ye((function(e){return e.user})).isAuth;return window.localStorage.getItem("isAuth")?t:Object(w.jsx)(f.a,{to:"/login",state:{from:r}})},ze=function(e){var t=e.children,r=Object(f.f)();ye((function(e){return e.user})).isAuth;return window.localStorage.getItem("isAuth")?Object(w.jsx)(f.a,{to:"/",state:{from:r}}):t},Ve=function(){return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(f.d,{children:[Object(w.jsx)(f.b,{path:Me.path,element:Object(w.jsx)(Le,{children:Object(w.jsx)(He,{})})}),Object(w.jsx)(f.b,{path:Ue.path,element:Object(w.jsx)(ze,{children:Object(w.jsx)(P,{})})})]})})},Ke=function(){return Object(w.jsx)(Ve,{})},Ze=r(154),qe={performers:[],loading:!1,error:null},Be=r(160),Ge=r(29),We={todos:[],loading:!1,error:null},Je={isAuth:!1,eMail:null},Xe=Object(S.c)({performers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.FETCH_PERFORMERS:return{loading:!0,error:null,performers:[]};case te.FETCH_PERFORMERS_SUCCESS:return{loading:!1,error:null,performers:t.payload};case te.FETCH_PERFORMERS_ERROR:return{loading:!1,error:t.payload,performers:[]};default:return e}},todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be.FETCH_TODOS:return Object(Ge.a)(Object(Ge.a)({},e),{},{loading:!0});case be.FETCH_TODOS_SUCCESS:return Object(Ge.a)(Object(Ge.a)({},e),{},{loading:!1,todos:t.payload});case be.FETCH_TODOS_ERROR:return Object(Ge.a)(Object(Ge.a)({},e),{},{loading:!0,error:t.payload.error});case be.CREATE_TODO:return Object(Ge.a)(Object(Ge.a)({},e),{},{todos:[].concat(Object(Be.a)(e.todos),[t.payload.todo])});case be.SET_TODO_STATE:var r=e.todos.map((function(e){return e.id===t.payload.id&&(e.state=t.payload.state),e}));return Object(Ge.a)(Object(Ge.a)({},e),{},{todos:r});case be.ASSIGN_TODO_PERFORMER:var n=e.todos.map((function(e){return e.id===t.payload.id&&(e.performer=t.payload.performer,e.performerId=t.payload.performerId),e}));return Object(Ge.a)(Object(Ge.a)({},e),{},{todos:n});case be.SET_TODO_TASK:var a=e.todos.map((function(e){return e.id===t.payload.id&&(e.task=t.payload.task,e.taskTitle=t.payload.taskTitle),e}));return Object(Ge.a)(Object(Ge.a)({},e),{},{todos:a});case be.DELETE_TODO_TASK:return Object(Ge.a)(Object(Ge.a)({},e),{},{todos:e.todos.filter((function(e){return e.id!==t.payload.id}))});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.AUTHORIZATION_USER:return Object(Ge.a)(Object(Ge.a)({},e),{},{isAuth:!0,eMail:t.payload});default:return e}}}),$e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||S.d,Qe=Object(S.e)(Xe,$e(Object(S.a)(Ze.a))),Ye=r(58);d.a.render(Object(w.jsx)(u.a.StrictMode,{children:Object(w.jsx)(Ye.a,{children:Object(w.jsx)(E.a,{store:Qe,children:Object(w.jsx)(Ke,{})})})}),document.getElementById("root"))}},[[274,1,2]]]);
//# sourceMappingURL=main.d9ccba75.chunk.js.map